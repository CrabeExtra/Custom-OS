Not the same configuration as C at all. I tried to replicate the configuration, but it's too
much effort.

Plus cargo has a installable bootloader so creating the OS is much quicker.

Having installed dependencies (you want bootloader 0.9.x, 10 or 11 will break):

cargo build --target custom-os-x86_64.json

cargo bootimage 

qemu-system-x86_64 -drive format=raw,file=target/custom-os-x86_64/debug/bootimage-kernel.bin

Generating an ISO on linux or docker vm:

cp target\custom-os-x86_64\debug\bootimage-kernel.bin iso/boot/

grub-mkrescue -o kernel.iso iso

